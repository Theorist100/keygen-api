# Файл: Caddyfile.local

# Указываем, на каком порту Caddy должен слушать запросы.
# Мы используем :8001, так как в docker-compose.dev.yml мы пробрасывали 8001:8001
:8001 {
  # Включаем логирование ошибок
  log

  # Все входящие запросы перенаправляем (проксируем) на наш веб-сервис
  # 'web' - это имя сервиса из docker-compose.dev.yml
  # '3000' - это порт, на котором Rails-сервер работает внутри своей сети
  reverse_proxy web:3000
}